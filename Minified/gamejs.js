GameJS={init:function(e){"object"!=typeof e&&(console.error("Oh no! Your game JSON appears to be the wrong type. It must be the type 'object', you used "+JSON.stringify(e)+"."),console.error("Game.js hit a critical error, look at the error above for more information."));null==document.getElementById(e.htmlElementID)&&(console.error("Oops, you specified the element to add the game canvas to but it doesn't seem to exist. \nThis is specified in 'GameJSON.htmlElementID' and is set to "+JSON.stringify(e.htmlElementID)+". You might want to check that the HTML that creates the element is before your JavaScript."),console.error("Game.js hit a critical error, look at the error above for more information."));var t=GameJS.internal.checkOb(e,{ID:{types:["string"],description:"An ID for the game canvas so it can be referenced later in the program."},width:{types:["number"],description:"The virtual width for the game. Independent from the rendered width."},height:{types:["number"],description:"The virtual height for the game. Independent from the rendered height."},game:{types:["object"],description:"The JSON for the game."}},{htmlElementID:{default:null,types:["string"],description:"The element to append the game canvas to."},config:{default:{state:"game"},types:["object"],description:"The game configuration settings."}},"GameJSON");t.config=GameJS.internal.checkOb(t.config,{},{state:{default:"game",types:null,description:"The element to append the game canvas to."}},"GameJSON.config"),t.game=GameJS.internal.checkOb(t.game,{},{assets:{default:{imgs:[],snds:[]},types:["object"],description:"The object that contains all the assets to be loaded for the game."},sprites:{default:[],types:["array"],description:"The array that contains the sprite's JSON."},scripts:{default:{preload:[],init:[],main:[]},types:["object"],description:"The object that contains all the game scripts that aren't for a particular sprite."}},"GameJSON.game"),t.game.assets=GameJS.internal.checkOb(t.game.assets,{imgs:{types:["array"],description:"The array that contains all the images to be loaded for the game."},snds:{types:["array"],description:"The array that contains all the images to be loaded for the game."}},{},"GameJSON.game.assets"),t.game.scripts=GameJS.internal.checkOb(t.game.scripts,{},{preload:{default:[],types:["array"],description:"The array that contains the scripts to be run before the game loads."},init:{default:[],types:["array"],description:"The array that contains the init scripts. An init script will be run when the game state changes to (one of the states/the state) assigned to that script."},main:{default:[],types:["array"],description:"The array that contains the main scripts. A main script will be run 60 times a second while the game state matches (one of the states/the state) assigned to that script."}},"GameJSON.game.scripts");var n={ID:t.ID,vars:{},internal:{renderer:{type:"canvas",width:t.width,height:t.height,renderWidth:t.width,renderHeight:t.height}}};return n.internal.renderer.canvas=document.createElement("canvas"),n.internal.renderer.canvas.style="display: block; touch-action: none; user-select: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0);",n.internal.renderer.ctx=n.internal.renderer.canvas.getContext("2d"),n.internal.renderer.canvas.width=t.width,n.internal.renderer.canvas.height=t.height,null==t.htmlElementID?document.body.appendChild(n.internal.renderer.canvas):document.getElementById(t.htmlElementID).appendChild(n.internal.renderer.canvas),n},internal:{getTypeOf:function(e){return Array.isArray(e)?"array":typeof e},checkOb:function(e,t,n,r){var a=[],i=[],s=0;for(s in t)null==e[s]?a[a.length]=s:e.hasOwnProperty(s)&&null!=t[s].types&&(t[s].types.includes(GameJS.internal.getTypeOf(e[s]))||(i[i.length]=s));s=0;for(s in n)e.hasOwnProperty(s)&&null!=n[s].types&&(n[s].types.includes(GameJS.internal.getTypeOf(e[s]))||(i[i.length]=s));var o=e;s=0;for(s in n)null==e[s]&&(o[s]=n[s].default);var h=[];s=0;for(s in e)t.hasOwnProperty(s)||n.hasOwnProperty(s)||(h[h.length]=s);if(a.length>0){var l=[];1==a.length?l[l.length]="Oops, looks like you missed this out from "+JSON.stringify(r)+": \n \n":l[l.length]="Oops, looks like you missed these out from "+JSON.stringify(r)+": \n \n";s=0;for(s in a)l[l.length]=" "+a[s]+" -> "+t[a[s]].description+" \n";console.error(l.join(""))}if(i.length>0){l=[];1==i.length?l[l.length]="Oops, looks like you've put an incorrect input type in "+JSON.stringify(r)+": \n \n":l[l.length]="Oops, looks like you've put some incorrect input types in "+JSON.stringify(r)+": \n \n";s=0;for(s in i){var c=i[s];if(t.hasOwnProperty(c))if(1==t[c].types.length)l[l.length]=" "+c+" -> "+t[c].description+" \n You used the type "+JSON.stringify(GameJS.internal.getTypeOf(e[c]))+", it can only be "+JSON.stringify(t[c].types[0])+". \n";else{l[l.length]=" "+c+" -> "+t[c].description+" \n You used the type "+JSON.stringify(GameJS.internal.getTypeOf(e[c]))+", it has to be one of these types: \n";var g=0;for(g in t[c].types)l[l.length]="  "+JSON.stringify(t[c].types[g])+" \n"}else if(1==n[c].types.length)l[l.length]=" "+c+" -> "+n[c].description+" \n You used the type "+JSON.stringify(GameJS.internal.getTypeOf(e[c]))+", it can only be type "+JSON.stringify(n[c].types[0])+". \n";else{l[l.length]=" "+c+" -> "+n[c].description+" \n You used the type "+JSON.stringify(GameJS.internal.getTypeOf(e[c]))+", it has to be one of these types: \n";g=0;for(g in n[c].types)l[l.length]="  "+JSON.stringify(t[c].types[g])+" \n"}}console.error(l.join(""))}if(GameJS.config.flags.warnOfUselessParameters&&h.length>0){l=[];1==h.length?l[l.length]="You might want to remove this: \n":l[l.length]="You might want to remove these: \n \n";s=0;for(s in h)l[l.length]=h[s]+" \n";l[l.length]="Or you may have made a typo and it could be one of these... \n \n";s=0;for(s in n)l[l.length]=" "+s+" -> "+n[s].description+" \n";l[l.length]="Alternatively, you can disable these warnings by editing the 'warnOfUselessParameters' flag. \nUse this code: 'GameJS.config.flags.warnOfUselessParameters = false'",console.warn(l.join(""))}return(a.length>0||i.length>0)&&console.error("Game.js hit a critical error, look at the error above for more information."),o}},vars:{games:{},selectedGame:null},config:{flags:{warnOfUselessParameters:!0}}};
