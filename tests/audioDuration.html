<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="utf-8">
        <meta name="description" content="Another simple audio test in Bagel.js">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>
            Audio duration demo
        </title>
    </head>
    <body bgColor="white">
        <b>Check the network requests in your browser console. Note that since the duration is specified, the sound is only loaded when you click on the game to play it.</b>
        <p id="debug"></p>
    </body>
</html>
<script src="../bagel.js"></script>
<script>

// Credit: Music is royalty free Kevin MacLeod

game = Bagel.init({
    id: "game",
    game: {
        assets: {
            snds: [
                {
                    id: "Testing",
                    src: "../assets/snds/music.mp3",
                    duration: 223.3992
                }
            ]
        },
        scripts: {
            main: [
                {
                    code: _ => {
                        if (game.input.mouse.down) {
                            game.playSound("Testing");
                        }
                    },
                    stateToRun: "game"
                }
            ]
        }
    },
    width: 800,
    height: 450,
    state: "game",
    config: {
        display: {
            backgroundColor: "#202020",
            mode: "static"
        }
    }
});

</script>
